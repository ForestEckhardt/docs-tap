# Starter Supply Chains

This topic provides several recipes for authoring useful, minimal `SupplyChains` to get started with.

## Build and Deploy an application

This Supply Chain will build and deploy an application from source.

It will perform the following actions:

* Pull application source from Git
* Build a container image using Buildpacks
* Generate a runtime definition with the image
* Generate a Kubernetes Deployment and Service
* Generate a Carvel package to make the application deployable
* Deploy the application

Run the following command to generate the supply chain. Ensure you have first initialized a working directory using tanzu supplychain init(link to cli command). 

```
tanzu supplychain generate \
  --kind ServerApp \
  --description "Build and deploy an application from Git" \
  --component source-git-provider-1.0.0 \
  --component buildpack-build-1.0.0 \
  --component conventions-1.0.0 \
  --component app-config-web-1.0.0 \
  --component carvel-package-1.0.0 \
  --component deployer-1.0.0
```

> **Note** In order to deploy other workload types, replace the app-config-web-1.0.0 component with other options such as app-config-server-1.0.0 or app-config-worker-1.0.0

## Build an application and store the artifact in Git

This Supply Chain will build a Carvel package from application source and store it in a git repository for deployment to a runtime environment.

It will perform the following actions:

* Pull application source from Git
* Build a container image using Buildpacks
* Generate a runtime definition with the image
* Generate a Knative service
* Generate a Carvel package to make the application deployable
* Create a PR against a git repository with the Carvel package contents

Run the following command to generate the supply chain. Ensure you have first initialized a working directory using tanzu supplychain init(link to cli command). 

```
tanzu supplychain generate \
  --kind CarvelPackage \
  --description "Build an application from source and store the Carvel package in Git" \
  --component source-git-provider-1.0.0 \
  --component buildpack-build-1.0.0 \
  --component conventions-1.0.0 \
  --component app-config-web-1.0.0 \
  --component carvel-package-1.0.0 \
  --component git-writer-pr-1.0.0 
```

> **Note** In order to write directly to a git repository without creating a PR, replace the git-writer-pr-1.0.0 component with git-writer-1.0.0. See “Deploy an application package from Git” next for a Supply Chain that will deploy the package that is generated by this Supply Chain.

## Deploy an application package from Git

This Supply Chain will deploy a Carvel package from a git repository.

It will perform the following actions:

* Pull application package from Git
* Translate the Carvel package to a deployable package
* Deploy the application

Run the following command to generate the supply chain. Ensure you have first initialized a working directory using tanzu supplychain init(link to cli command). 

```
tanzu supplychain generate \
  --kind PackageDeploy \
  --description "Deploy a Carvel package from Git" \
  --component source-git-provider-1.0.0 \
  --component source-package-translator-1.0.0 \
  --component deployer-1.0.0
```

## Coming from Supply Chain Choreographer

For users coming from Supply Chain Choreographer, the recipes in this document are analogous to OOTB Supply Chains and Profile experiences. Use this mapping to help decide which recipe you should start with. These recipes do not provide exact parity with OOTB Supply Chains, nor will they. Recipes will help users get started so they can then author Supply Chains that are appropriate for their needs.

* Iterate Profile: use [Build and Deploy an application](#build-and-deploy-an-application)
* Supply Chain Basic: use [Build an application and store the artifact in Git](#build-an-application-and-store-the-artifact-in-git)
* Delivery Basic: use [Deploy an application package from Git](#deploy-an-application-package-from-git)

